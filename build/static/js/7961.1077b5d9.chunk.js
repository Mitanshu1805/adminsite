"use strict";(self.webpackChunkadminto_react=self.webpackChunkadminto_react||[]).push([[7961],{15468:function(e,n,t){t(72791);var s=t(95316),i=t(43360),r=t(80184);n.Z=function(e){var n=e.show,t=e.onClose,o=e.onConfirm,l=e.title,a=void 0===l?"Confirm Deletion":l,u=e.message,c=void 0===u?"Are you sure you want to delete this item?":u;return(0,r.jsxs)(s.Z,{show:n,onHide:t,centered:!0,children:[(0,r.jsx)(s.Z.Header,{closeButton:!0,children:(0,r.jsx)(s.Z.Title,{children:a})}),(0,r.jsx)(s.Z.Body,{children:(0,r.jsx)("p",{children:c})}),(0,r.jsxs)(s.Z.Footer,{children:[(0,r.jsx)(i.Z,{variant:"secondary",onClick:t,children:"Cancel"}),(0,r.jsx)(i.Z,{variant:"danger",onClick:o,children:"Delete"})]})]})}},45598:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var s=t(4942),i=t(1413),r=t(29439),o=t(72791),l=t(9140),a=t(43360),u=t(62591),c=t(21827),d=t(57689),h=t(1917),x=t(51649),m=t(59135),f=t(60364),v=t(95316),g=t(80184),j=function(e){var n=e.show,t=e.onClose,s=e.businessId,i=(0,o.useState)(""),l=(0,r.Z)(i,2),u=l[0],d=l[1],x=(0,o.useState)(""),m=(0,r.Z)(x,2),j=m[0],Z=m[1],p=(0,o.useState)(""),_=(0,r.Z)(p,2),b=_[0],y=_[1],C=(0,o.useState)(""),N=(0,r.Z)(C,2),S=N[0],k=N[1],I=(0,o.useState)(""),w=(0,r.Z)(I,2),T=w[0],R=w[1],L=(0,o.useState)("INR"),B=(0,r.Z)(L,2),E=B[0],O=B[1],F=(0,o.useState)(!1),A=(0,r.Z)(F,2),P=A[0],G=A[1],H=(0,o.useState)(""),z=(0,r.Z)(H,2),q=(z[0],z[1]),U=(0,o.useState)(""),D=(0,r.Z)(U,2),$=D[0],M=D[1],X=(0,o.useState)(""),J=(0,r.Z)(X,2),K=J[0],Q=J[1],V=(0,o.useState)(""),W=(0,r.Z)(V,2),Y=W[0],ee=W[1],ne=(0,o.useState)(""),te=(0,r.Z)(ne,2),se=te[0],ie=te[1],re=(0,o.useState)(""),oe=(0,r.Z)(re,2),le=oe[0],ae=oe[1],ue=(0,o.useState)(""),ce=(0,r.Z)(ue,2),de=ce[0],he=ce[1],xe=(0,f.v9)((function(e){return e.language})).languages,me=(0,f.I0)();(0,o.useEffect)((function(){xe.length||(me((0,h.s0)()),console.log("Language list:",xe))}),[me,xe]),(0,o.useEffect)((function(){n||(d(""),Z(""),y(""),k(""),R(""),O("INR"),G(!1),q(""),M(""),Q(""),ee(""),ie(""),ae(""),he(""))}),[n]);return(0,g.jsxs)(v.Z,{show:n,onHide:t,children:[(0,g.jsx)(v.Z.Header,{closeButton:!0,children:(0,g.jsx)(v.Z.Title,{children:"Register New Outlet"})}),(0,g.jsx)(v.Z.Body,{children:(0,g.jsxs)(c.Z,{children:[(0,g.jsxs)(c.Z.Group,{controlId:"outletName",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"Outlet Name"}),(0,g.jsx)(c.Z.Control,{type:"text",value:u,onChange:function(e){return d(e.target.value)},isInvalid:!!$}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:$})]}),(0,g.jsxs)(c.Z.Group,{controlId:"outletType",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"Outlet Type"}),(0,g.jsxs)(c.Z.Control,{as:"select",name:"outlet_type",value:j,onChange:function(e){return Z(e.target.value)},required:!0,isInvalid:!!K,children:[(0,g.jsx)("option",{value:"",children:"Select Outlet Type"}),["coco","cofo","fofo","foco"].map((function(e,n){return(0,g.jsx)("option",{value:e,children:e},n)}))]}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:K})]}),(0,g.jsxs)(c.Z.Group,{controlId:"outletAddress",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"Address"}),(0,g.jsx)(c.Z.Control,{type:"text",value:b,onChange:function(e){return y(e.target.value)},isInvalid:!!Y}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:Y})]}),(0,g.jsxs)(c.Z.Group,{controlId:"gstNo",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"GST Number"}),(0,g.jsx)(c.Z.Control,{type:"text",value:S,onChange:function(e){return k(e.target.value)},isInvalid:!!se}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:se})]}),(0,g.jsxs)(c.Z.Group,{controlId:"currency",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"Currency"}),(0,g.jsx)(c.Z.Control,{type:"text",value:E,onChange:function(e){return O(e.target.value)},isInvalid:!!de}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:de})]}),(0,g.jsx)(c.Z.Group,{controlId:"isPrimaryOutlet",className:"mb-3",children:(0,g.jsx)(c.Z.Check,{type:"checkbox",label:"Set as primary outlet",checked:P,onChange:function(){return G(!P)}})}),(0,g.jsxs)(c.Z.Group,{controlId:"languageId",className:"mb-3",children:[(0,g.jsx)(c.Z.Label,{children:"Language"}),(0,g.jsxs)(c.Z.Control,{as:"select",value:T,onChange:function(e){return R(e.target.value)},required:!0,isInvalid:!!le,children:[(0,g.jsx)("option",{value:"",children:"Select Language"}),xe.map((function(e){return(0,g.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:le})]})]})}),(0,g.jsxs)(v.Z.Footer,{children:[(0,g.jsx)(a.Z,{variant:"secondary",onClick:t,children:"Close"}),(0,g.jsx)(a.Z,{variant:"primary",onClick:function(){if(u.trim()?M(""):(M("Outlet Name is Required"),!1),j.trim()?Q(""):(Q("Outlet Type is Required"),!1),b.trim()?ee(""):(ee("Outlet Address is Required"),!1),S.trim()?ie(""):(ie("Outlet GstNumber is Required"),!1),T.trim()?ae(""):(ae("LanguageId is Required"),!1),E.trim()?he(""):(he("Currency is Required"),!1),T){var e={outlet_name:u,outlet_type:j,is_primary_outlet:P,gst_no:S,language_id:T,business_id:s,outlet_address:b,currency:E};me((0,h.$O)(e)),setTimeout((function(){me((0,h.ck)()),d(""),Z(""),y(""),k(""),R(""),O("INR"),G(!1),q(""),t()}),500)}else q("Please select a language.")},children:"Register Outlet"})]})]})},Z=function(e){var n=e.show,t=e.onClose,s=e.businessId,i=(0,o.useState)(""),l=(0,r.Z)(i,2),u=l[0],d=l[1],x=(0,o.useState)(""),m=(0,r.Z)(x,2),j=m[0],Z=m[1],p=(0,o.useState)(""),_=(0,r.Z)(p,2),b=_[0],y=_[1],C=(0,o.useState)(""),N=(0,r.Z)(C,2),S=N[0],k=N[1],I=(0,o.useState)(""),w=(0,r.Z)(I,2),T=w[0],R=w[1],L=(0,o.useState)(""),B=(0,r.Z)(L,2),E=B[0],O=B[1],F=(0,o.useState)(""),A=(0,r.Z)(F,2),P=A[0],G=A[1],H=(0,o.useState)(""),z=(0,r.Z)(H,2),q=(z[0],z[1]),U=(0,o.useState)(""),D=(0,r.Z)(U,2),$=(D[0],D[1]),M=(0,o.useState)(""),X=(0,r.Z)(M,2),J=(X[0],X[1]),K=(0,o.useState)(""),Q=(0,r.Z)(K,2),V=(Q[0],Q[1],(0,f.I0)());(0,o.useEffect)((function(){n||(d(""),Z(""),y(""),k(""),R(""),O(""),G(""),q(""),$(""),J(""))}),[n]);return(0,g.jsxs)(v.Z,{show:n,onHide:t,children:[(0,g.jsx)(v.Z.Header,{closeButton:!0,children:(0,g.jsx)(v.Z.Title,{children:"Register New Business Owner"})}),(0,g.jsx)(v.Z.Body,{children:(0,g.jsxs)(c.Z,{children:[(0,g.jsxs)(c.Z.Group,{controlId:"firstName",children:[(0,g.jsx)(c.Z.Label,{children:"First Name"}),(0,g.jsx)(c.Z.Control,{type:"text",value:u,onChange:function(e){return d(e.target.value)},isInvalid:!!E}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:E})]}),(0,g.jsxs)(c.Z.Group,{controlId:"lastName",children:[(0,g.jsx)(c.Z.Label,{children:"Last Name"}),(0,g.jsx)(c.Z.Control,{type:"text",value:j,onChange:function(e){return Z(e.target.value)},isInvalid:!!P}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:P})]}),(0,g.jsxs)(c.Z.Group,{controlId:"email",children:[(0,g.jsx)(c.Z.Label,{children:"Email"}),(0,g.jsx)(c.Z.Control,{type:"text",value:b,onChange:function(e){return y(e.target.value)}})]}),(0,g.jsxs)(c.Z.Group,{controlId:"phoneNumber",children:[(0,g.jsx)(c.Z.Label,{children:"Phone Number"}),(0,g.jsx)(c.Z.Control,{type:"text",value:S,onChange:function(e){return k(e.target.value)}})]}),(0,g.jsxs)(c.Z.Group,{controlId:"address",children:[(0,g.jsx)(c.Z.Label,{children:"Address"}),(0,g.jsx)(c.Z.Control,{type:"text",value:T,onChange:function(e){return R(e.target.value)}})]})]})}),(0,g.jsxs)(v.Z.Footer,{children:[(0,g.jsx)(a.Z,{variant:"secondary",onClick:t,children:"Close"}),(0,g.jsx)(a.Z,{variant:"primary",onClick:function(){u.trim()?O(""):O("First Name is Required"),j.trim()?G(""):G("Last Name is Required"),b.trim()?q(""):q("Email is Required"),S.trim()?$(""):$("Phone Number is Required");var e={business_id:s,first_name:u,last_name:j,phone_number:S,email:b,address:T};V((0,h.w2)(e)),setTimeout((function(){V((0,h.ck)()),d(""),Z(""),y(""),k(""),R(""),t()}),500)},children:"Register Business Owner"})]})]})},p=t(91555),_=t(77914),b=function(e){var n=e.show,t=e.onClose,s=e.business_id,i=(0,o.useState)(""),l=(0,r.Z)(i,2),u=l[0],d=l[1],h=(0,o.useState)(""),x=(0,r.Z)(h,2),m=x[0],j=x[1],Z=(0,o.useState)(""),p=(0,r.Z)(Z,2),b=p[0],y=p[1],C=(0,o.useState)(""),N=(0,r.Z)(C,2),S=N[0],k=N[1],I=(0,f.I0)();(0,o.useEffect)((function(){n||(d(""),j(""),y(""),k(""))}),[n]);return(0,g.jsxs)(v.Z,{show:n,onHide:t,centered:!0,children:[(0,g.jsx)(v.Z.Header,{closeButton:!0,children:(0,g.jsx)(v.Z.Title,{children:"Register New Ingredient"})}),(0,g.jsx)(v.Z.Body,{children:(0,g.jsxs)(c.Z,{children:[(0,g.jsxs)(c.Z.Group,{controlId:"ingredientName",className:"mb-3",children:[(0,g.jsxs)(c.Z.Label,{children:["Ingredient Name ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsx)(c.Z.Control,{type:"text",placeholder:"e.g., Tomato, Cheese",value:u,onChange:function(e){return d(e.target.value)},isInvalid:!!b}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:b})]}),(0,g.jsxs)(c.Z.Group,{controlId:"ingredientUnit",className:"mb-3",children:[(0,g.jsxs)(c.Z.Label,{children:["Unit ",(0,g.jsx)("span",{className:"text-danger",children:"*"})]}),(0,g.jsxs)(c.Z.Select,{value:m,onChange:function(e){return j(e.target.value)},isInvalid:!!S,children:[(0,g.jsx)("option",{value:"",children:"-- Select Unit --"}),(0,g.jsx)("option",{value:"gm",children:"gm"}),(0,g.jsx)("option",{value:"kg",children:"kg"}),(0,g.jsx)("option",{value:"ml",children:"ml"}),(0,g.jsx)("option",{value:"l",children:"l"})]}),(0,g.jsx)(c.Z.Control.Feedback,{type:"invalid",children:S})]})]})}),(0,g.jsxs)(v.Z.Footer,{children:[(0,g.jsx)(a.Z,{variant:"outline-secondary",onClick:t,children:"Cancel"}),(0,g.jsx)(a.Z,{variant:"primary",onClick:function(){var e=!0;u.trim()?y(""):(y("Ingredient name is required."),e=!1),m.trim()?k(""):(k("Unit is required."),e=!1),e&&(I((0,_.kp)(u,s,m)),d(""),j(""),t())},children:"Add Ingredient"})]})]})},y=t(15468),C=function(){var e,n,t=(0,x.Sc)(),v=t.dispatch,_=t.appSelector,C=(0,o.useState)(null),N=(0,r.Z)(C,2),S=N[0],k=void 0===S?_((function(e){return e.business.businessDetails})):S,I=N[1],w=null===(e=(0,d.TH)().state)||void 0===e?void 0:e.business_id,T=_((function(e){return e.business.businesses||[]})),R=(0,d.s0)(),L=(0,o.useState)(!1),B=(0,r.Z)(L,2),E=B[0],O=B[1],F=(0,o.useState)(!1),A=(0,r.Z)(F,2),P=A[0],G=A[1],H=(0,o.useState)(!1),z=(0,r.Z)(H,2),q=z[0],U=z[1],D=(0,o.useState)(""),$=(0,r.Z)(D,2),M=($[0],$[1]),X=(0,o.useState)({}),J=(0,r.Z)(X,2),K=J[0],Q=J[1],V=(0,o.useState)(!1),W=(0,r.Z)(V,2),Y=W[0],ee=W[1],ne=(0,o.useState)(!1),te=(0,r.Z)(ne,2),se=te[0],ie=te[1],re=(0,o.useState)(null),oe=(0,r.Z)(re,2),le=oe[0],ae=oe[1],ue=(0,o.useState)(null),ce=(0,r.Z)(ue,2),de=ce[0],he=ce[1],xe=(0,o.useState)(null),me=(0,r.Z)(xe,2),fe=me[0],ve=me[1],ge=(0,o.useState)(null),je=(0,r.Z)(ge,2),Ze=je[0],pe=je[1],_e=(0,f.v9)((function(e){return e.language})),be=_e.languages,ye=(_e.loading,_e.error,(0,o.useState)(null)),Ce=(0,r.Z)(ye,2),Ne=Ce[0],Se=Ce[1],ke=(0,o.useState)(!1),Ie=(0,r.Z)(ke,2),we=Ie[0],Te=Ie[1],Re=(0,o.useState)(null),Le=(0,r.Z)(Re,2),Be=Le[0],Ee=Le[1],Oe=(0,o.useState)(!1),Fe=(0,r.Z)(Oe,2),Ae=Fe[0],Pe=Fe[1];if((0,o.useEffect)((function(){console.log("Dispatching actions for business list"),v((0,h.PL)()),v((0,h.N$)(w))}),[v]),(0,o.useEffect)((function(){be.length||v((0,h.s0)())}),[v,be.length]),(0,o.useEffect)((function(){if(console.log("Business ID from URL:",w),console.log("Available businesses:",T),w){var e=T.find((function(e){return e.business_id===w}));console.log("business res: ",e),e?I(e):console.log("Business not found in the list!")}}),[w,T]),console.log("Selected Business:",k),console.log("Redux State:",_((function(e){return e.business.businessDetails}))),!T.length)return(0,g.jsx)("div",{children:"Loading business details..."});if(!k)return(0,g.jsx)("div",{children:"Business not found!"});var Ge=function(){Ne&&v((0,h.IF)(Ne.outlet_id,Ne.business_id)),setTimeout((function(){v((0,h.N$)(w))}),500),Te(!1)},He=function(){Be&&v((0,h.qf)(Be.user_id,Be.business_id)),setTimeout((function(){v((0,h.N$)(w))}),500),Pe(!1)},ze=function(){if(le){var e={outlet_id:le.outlet_id,outlet_name:le.outlet_name,outlet_type:le.outlet_type,outlet_address:le.outlet_address,gst_no:le.outlet_gst_no,business_id:le.business_id||k.business_id,language_id:le.language_id};console.log("Payload ready for submission:",e),v((0,h.mO)(e)),ee(!1),M("Outlet details updated successfully."),setTimeout((function(){M(""),v((0,h.ck)())}),500),ve(le)}},qe=function(){ee(!1),ae(null)},Ue=function(){if(console.log("Business",de),de){var e={business_id:de.business_id,user_id:de.user_id,first_name:de.first_name,last_name:de.last_name,email:de.email,phone_number:de.phone_number,address:de.address};console.log("Payload ready for submission:",e),v((0,h.Uk)(e)),ie(!1),M("BusinessUser details updated successfully."),setTimeout((function(){M(""),v((0,h.ck)())}),500),pe(de)}},De=function(){ie(!1),he(null)};return(0,g.jsxs)(g.Fragment,{children:[k?(0,g.jsx)(l.Z,{className:"mb-3",children:(0,g.jsxs)(l.Z.Body,{children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center",children:[(0,g.jsx)("img",{src:k.business_logo,alt:"".concat(k.business_name," Logo"),style:{width:"80px",height:"80px",borderRadius:"50%",marginRight:"20px"}}),(0,g.jsx)("h3",{className:"header-title",children:k.business_name})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(a.Z,{className:"me-2",onClick:function(){P||G(!0)},children:"+ Add Ingredient"}),(0,g.jsx)(b,{show:P,onClose:function(){console.log("Closing modal"),G(!1)},business_id:k.business_id}),(0,g.jsx)(a.Z,{className:"me-2",onClick:function(){return e=k.business_id,void R("/apps/manage-menu",{state:{business_id:e}});var e},children:"Manage Menu"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Contact:"})," ",k.business_contact]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Address:"})," ",k.business_address]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Cuisine:"})," ",k.cuisine]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"GST Number:"})," ",k.gst_no]}),(0,g.jsxs)("p",{children:[(0,g.jsx)("strong",{children:"Active Status:"})," ",k.is_active?"Active":"Inactive"]})]})]})}):(0,g.jsx)("p",{children:"Loading business details..."}),(0,g.jsx)(l.Z,{children:(0,g.jsxs)(l.Z.Body,{children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,g.jsxs)("h4",{className:"header-title",children:[k.business_name," - Outlets:"]}),(0,g.jsx)(a.Z,{onClick:function(){E||O(!0)},children:"Register New Outlet"}),(0,g.jsx)(j,{show:E,onClose:function(){console.log("Closing modal"),O(!1)},businessId:k.business_id})]}),(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)(u.Z,{className:"mb-0",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"Name"}),(0,g.jsx)("th",{children:"Type"}),(0,g.jsx)("th",{children:"Address"}),(0,g.jsx)("th",{children:"GST Number"}),(0,g.jsx)("th",{children:"Language"}),(0,g.jsx)("th",{children:"Currency"}),(0,g.jsx)("th",{children:"Menu"}),(0,g.jsx)("th",{children:"Is Active?"}),(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsx)("tbody",{children:(null===k||void 0===k||null===(n=k.outlets)||void 0===n?void 0:n.length)>0?k.outlets.map((function(e){var n,t;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsx)("input",{type:"text",value:(null===le||void 0===le?void 0:le.outlet_name)||"",onChange:function(e){return ae((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{outlet_name:e.target.value}):null}))}}):e.outlet_name}),(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsxs)(c.Z.Select,{value:(null===le||void 0===le?void 0:le.outlet_type)||"",onChange:function(e){return ae((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{outlet_type:e.target.value}):null}))},children:[(0,g.jsx)("option",{value:"",children:"Select Outlet Type"}),(0,g.jsx)("option",{value:"coco",children:"coco"}),(0,g.jsx)("option",{value:"cofo",children:"cofo"}),(0,g.jsx)("option",{value:"foco",children:"foco"}),(0,g.jsx)("option",{value:"fofo",children:"fofo"})]}):e.outlet_type}),(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsx)("input",{type:"text",value:(null===le||void 0===le?void 0:le.outlet_address)||"",onChange:function(e){return ae((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{outlet_address:e.target.value}):null}))}}):e.outlet_address}),(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsx)("input",{type:"text",value:(null===le||void 0===le?void 0:le.outlet_gst_no)||"",onChange:function(e){return ae((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{outlet_gst_no:e.target.value}):null}))}}):e.outlet_gst_no}),(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsxs)(c.Z.Select,{value:(null===le||void 0===le?void 0:le.language_id)||"",onChange:function(e){return ae((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{language_id:e.target.value}):null}))},children:[(0,g.jsx)("option",{value:"",children:"Select Language"}),be.map((function(e){return(0,g.jsx)("option",{value:e.id,children:e.name},e.id)}))]}):(null===(n=be.find((function(n){return n.id===e.language_id})))||void 0===n?void 0:n.name)||"N/A"}),(0,g.jsx)("td",{children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsx)("span",{children:e.currency}):e.currency}),(0,g.jsx)("td",{children:(0,g.jsx)(m.v7m,{onClick:function(){return n=k.business_id,t=e.outlet_id,void R("/apps/outlet-menu",{state:{business_id:n,outlet_id:t}});var n,t},size:20,style:{cursor:"pointer"}})}),(0,g.jsx)("td",{children:(0,g.jsx)(p.Z,{checked:null!==(t=K[e.outlet_id])&&void 0!==t?t:e.is_active,onChange:function(n){return t=e.outlet_id,r=n,console.log("handleOutletUpdateToggle called with:",t,r),Q((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,s.Z)({},t,r))})),v((0,h.LG)(t,r)),void setTimeout((function(){M(""),v((0,h.ck)())}),500);var t,r}})}),(0,g.jsx)("td",{className:"d-flex align-items-center",children:Y&&(null===fe||void 0===fe?void 0:fe.outlet_id)===e.outlet_id?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.Z,{variant:"success",style:{padding:"5px 10px",fontSize:"14px"},onClick:ze,children:"Save"}),(0,g.jsx)(a.Z,{variant:"secondary",style:{padding:"5px 10px",marginLeft:"5px",fontSize:"14px"},onClick:qe,children:"Cancel"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,n,t,s,r,o,l){var a=k.outlets.find((function(n){return n.outlet_id===e}));a?(console.log("Edit Button clicked for Outlet:",a),ee(!0),ae((0,i.Z)((0,i.Z)({},a),{},{business_id:k.business_id})),ve((0,i.Z)({},a))):M("Outlet not found")}(e.outlet_id,e.outlet_name,e.outlet_type,e.outlet_address,e.outlet_gst_no,k.business_id,e.language_id)}}),(0,g.jsx)(m.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return n=e.outlet_id,t=k.business_id,Se({outlet_id:n,business_id:t}),void Te(!0);var n,t}}),(0,g.jsx)(y.Z,{show:we,onClose:function(){return Te(!1)},onConfirm:Ge,title:"Delete this Outlet",message:"Are you sure you want to delete this Outlet? This action cannot be undone."})]})})]},e.outlet_id)})):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:7,children:"No outlets found."})})})]})})]})}),(0,g.jsx)(l.Z,{children:(0,g.jsxs)(l.Z.Body,{children:[(0,g.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,g.jsxs)("h4",{className:"header-title",children:[k.business_name," - Business Owners:"]}),(0,g.jsx)(a.Z,{onClick:function(){q||U(!0)},children:"Register New Business Owner"}),(0,g.jsx)(Z,{show:q,onClose:function(){console.log("Closing modal"),U(!1)},businessId:k.business_id})]}),(0,g.jsx)("div",{className:"table-responsive",children:(0,g.jsxs)(u.Z,{className:"mb-0",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{children:"First Name"}),(0,g.jsx)("th",{children:"Last Name"}),(0,g.jsx)("th",{children:"Email"}),(0,g.jsx)("th",{children:"Phone Number"}),(0,g.jsx)("th",{children:"Address"}),(0,g.jsx)("th",{children:"Action"})]})}),(0,g.jsx)("tbody",{children:k.business_users.length>0?k.business_users.map((function(e){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsx)("input",{type:"text",value:(null===de||void 0===de?void 0:de.first_name)||"",onChange:function(e){return he((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{first_name:e.target.value}):null}))}}):e.first_name}),(0,g.jsx)("td",{children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsx)("input",{type:"text",value:(null===de||void 0===de?void 0:de.last_name)||"",onChange:function(e){return he((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{last_name:e.target.value}):null}))}}):e.last_name}),(0,g.jsx)("td",{children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsx)("input",{type:"text",value:(null===de||void 0===de?void 0:de.email)||"",onChange:function(e){return he((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{email:e.target.value}):null}))}}):e.email}),(0,g.jsx)("td",{children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsx)("input",{type:"text",value:(null===de||void 0===de?void 0:de.phone_number)||"",onChange:function(e){return he((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{phone_number:e.target.value}):null}))}}):e.phone_number}),(0,g.jsx)("td",{children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsx)("input",{type:"text",value:(null===de||void 0===de?void 0:de.address)||"",onChange:function(e){return he((function(n){return n?(0,i.Z)((0,i.Z)({},n),{},{address:e.target.value}):null}))}}):e.address}),(0,g.jsx)("td",{className:"d-flex align-items-center",children:se&&(null===Ze||void 0===Ze?void 0:Ze.user_id)===e.user_id?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.Z,{variant:"success",style:{padding:"5px 10px",fontSize:"14px"},onClick:Ue,children:"Save"}),(0,g.jsx)(a.Z,{variant:"secondary",style:{padding:"5px 10px",marginLeft:"5px",fontSize:"14px"},onClick:De,children:"Cancel"})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(m.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return function(e,n,t,s,r,o){var l=k.business_users.find((function(e){return e.user_id===o}));l?(console.log("Edit Button clicked for BusinessUser:",l),ie(!0),he((0,i.Z)({},l)),pe((0,i.Z)({},l))):M("BusinessUser not found")}(e.first_name,e.last_name,e.email,e.phone_number,e.address,e.user_id)}}),(0,g.jsx)(m.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return n=e.user_id,t=k.business_id,Ee({user_id:n,business_id:t}),void Pe(!0);var n,t}}),(0,g.jsx)(y.Z,{show:Ae,onClose:function(){return Pe(!1)},onConfirm:He,title:"Delete this BusinessUser",message:"Are you sure you want to delete this BusinessUser? This action cannot be undone."})]})})]},e.user_id)})):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:7,children:"No outlets found."})})})]})})]})})]})}},92414:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var s=t(4942),i=t(1413),r=t(29439),o=t(72791),l=t(57689),a=t(15671),u=t(43144),c=t(60136),d=t(29388),h=t(80184),x=function(e){(0,c.Z)(t,e);var n=(0,d.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=n.call.apply(n,[this].concat(i))).state={hasError:!1},e}return(0,u.Z)(t,[{key:"componentDidCatch",value:function(e,n){console.error("Error caught by Error Boundary:",e,n)}},{key:"render",value:function(){return this.state.hasError?(0,h.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(o.Component),m=x,f=t(6901),v=t(85906),g=t(51649),j=t(59135),Z=(t(99944),t(91555)),p=t(15468),_=function(){var e,n=null===(e=(0,l.TH)().state)||void 0===e?void 0:e.business_id,t=(0,g.Sc)(),a=t.dispatch,u=t.appSelector,c=(0,o.useState)({}),d=(0,r.Z)(c,2),x=d[0],m=d[1],_=(0,o.useState)(!1),b=(0,r.Z)(_,2),y=(b[0],b[1],(0,o.useState)(!1)),C=(0,r.Z)(y,2),N=(C[0],C[1],(0,o.useState)(null)),S=(0,r.Z)(N,2),k=(S[0],S[1],(0,o.useState)("")),I=(0,r.Z)(k,2),w=(I[0],I[1]),T=u((function(e){return e.category.categories||[]})),R=(0,o.useState)(null),L=(0,r.Z)(R,2),B=L[0],E=L[1],O=(0,o.useState)(null),F=(0,r.Z)(O,2),A=F[0],P=F[1],G=(0,o.useState)(!1),H=(0,r.Z)(G,2),z=H[0],q=H[1],U=(0,o.useState)(null),D=(0,r.Z)(U,2),$=D[0],M=D[1],X=(0,o.useState)(!1),J=(0,r.Z)(X,2),K=J[0],Q=J[1],V=(0,l.s0)();(0,o.useEffect)((function(){n&&a((0,f.m$)(n))}),[a,n]),(0,o.useEffect)((function(){T.length>0&&!B&&E(T[0].category_id)}),[T,B]),(0,o.useEffect)((function(){if(T.length>0){var e={};T.forEach((function(n){e[n.category_id]=n.is_active,n.items.forEach((function(n){e[n.item_id]=n.is_active}))})),m(e)}}),[T]);var W=function(){$&&a((0,v.wz)($)),setTimeout((function(){a((0,f.m$)(n))}),500),Q(!1)},Y=function(){A&&a((0,f.uu)(A)),setTimeout((function(){a((0,f.m$)(n))}),500),q(!1)},ee=T.filter((function(e){return!B||e.category_id===B})).flatMap((function(e){return e.items}));return console.log("Filtered Items:",ee),(0,h.jsxs)("div",{className:"manage-menu-container",children:[(0,h.jsxs)("div",{className:"header",children:[(0,h.jsx)("h2",{children:"Item List"}),(0,h.jsx)("div",{className:"button-group",children:(0,h.jsx)("button",{className:"add-item-button",onClick:function(){return V("/apps/item-register",{state:{business_id:n,category_id:B}})},children:"+ Add Item"})})]}),(0,h.jsxs)("div",{className:"category-tabs",children:[T.map((function(e){return(0,h.jsxs)("div",{className:"category-tab ".concat(B===e.category_id?"active":""),onClick:function(){return n=e.category_id,console.log("Category Clicked:",n),void E(n);var n},children:[(0,h.jsx)("img",{src:e.logo_image,alt:e.category_name}),(0,h.jsx)("p",{children:e.category_name}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,h.jsx)(Z.Z,{checked:x[e.category_id]||!1,onChange:function(t){return r=e.category_id,o=t,m((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,s.Z)({},r,o))})),a((0,f.$5)(r,o)),void setTimeout((function(){w(""),a((0,f.m$)(n))}),100);var r,o}})})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(j.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return V("/apps/category-update",{state:{business_id:n,category_id:B}})}}),(0,h.jsx)(j.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return n=e.category_id,P(n),void q(!0);var n}}),(0,h.jsx)(p.Z,{show:z,onClose:function(){return q(!1)},onConfirm:Y,title:"Delete this Category",message:"Are you sure you want to delete this Category? This action cannot be undone."})]})]},e.category_id)})),(0,h.jsx)("button",{className:"add-category-button",onClick:function(){return V("/apps/category-register",{state:{business_id:n}})},children:"+ Add Category"})]}),(0,h.jsx)("div",{className:"item-list",children:ee.length>0?ee.map((function(e){return(0,h.jsxs)("div",{className:"item-card",children:[(0,h.jsx)("img",{src:e.logo_image,alt:e.item_name,className:"item-image"}),(0,h.jsxs)("div",{className:"item-details",children:[(0,h.jsx)("h3",{children:e.item_name}),(0,h.jsxs)("p",{children:["Price: ",e.price]}),(0,h.jsx)("p",{children:"Total Amount: 0"})]}),(0,h.jsx)("div",{className:"item-actions",children:(0,h.jsx)("button",{className:"add-recipe-button",onClick:function(){return function(e,n){V("/apps/recipe",{state:{business_id:e,item_id:n}})}(n,e.item_id)},children:"+ Recipe"})}),(0,h.jsx)("div",{className:"item-actions",children:(0,h.jsx)(j.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return t=e.item_id,s=e.category_id,V("/apps/edit-item",{state:{business_id:n,category_id:B,item_id:t}}),console.log("category_id: ",s),console.log("selectedCategoryId: ",B),void console.log("setSelectedCategoryId: ",E);var t,s}})}),(0,h.jsxs)("div",{className:"item-actions",children:[(0,h.jsx)(j.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return n=e.item_id,M(n),void Q(!0);var n}}),(0,h.jsx)(p.Z,{show:K,onClose:function(){return Q(!1)},onConfirm:W,title:"Delete this Item",message:"Are you sure you want to delete this Item? This action cannot be undone."})]}),(0,h.jsx)(Z.Z,{checked:x[e.item_id]||!1,onChange:function(t){return r=e.item_id,o=t,m((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,s.Z)({},r,o))})),a((0,v.us)(r,o)),void setTimeout((function(){w(""),a((0,f.m$)(n))}),100);var r,o}})]},e.item_id)})):(0,h.jsx)("p",{className:"no-items-message",children:"No items available"})})]})},b=function(){return(0,h.jsx)(m,{children:(0,h.jsx)(_,{})})}},91555:function(e,n,t){t(72791),t(92414);var s=t(80184);n.Z=function(e){var n=e.checked,t=e.onChange,i=e.label;return(0,s.jsxs)("label",{className:"toggle-switch",children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onChange:function(e){return null===t||void 0===t?void 0:t(e.target.checked)}}),(0,s.jsx)("span",{className:"slider"}),i&&(0,s.jsx)("span",{className:"switch-label",children:i})]})}},73201:function(e,n,t){var s=t(72791),i=function(e){return e&&"function"!==typeof e?function(n){e.current=n}:e};n.Z=function(e,n){return(0,s.useMemo)((function(){return function(e,n){var t=i(e),s=i(n);return function(e){t&&t(e),s&&s(e)}}(e,n)}),[e,n])}},9140:function(e,n,t){t.d(n,{Z:function(){return T}});var s=t(1413),i=t(45987),r=t(81694),o=t.n(r),l=t(72791),a=t(10162),u=t(66543),c=t(27472),d=t(80184),h=["bsPrefix","className","variant","as"],x=l.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,l=e.variant,u=e.as,c=void 0===u?"img":u,x=(0,i.Z)(e,h),m=(0,a.vE)(t,"card-img");return(0,d.jsx)(c,(0,s.Z)({ref:n,className:o()(l?"".concat(m,"-").concat(l):m,r)},x))}));x.displayName="CardImg";var m=x,f=t(96040),v=["bsPrefix","className","as"],g=l.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,u=e.as,c=void 0===u?"div":u,h=(0,i.Z)(e,v),x=(0,a.vE)(t,"card-header"),m=(0,l.useMemo)((function(){return{cardHeaderBsPrefix:x}}),[x]);return(0,d.jsx)(f.Z.Provider,{value:m,children:(0,d.jsx)(c,(0,s.Z)((0,s.Z)({ref:n},h),{},{className:o()(r,x)}))})}));g.displayName="CardHeader";var j=g,Z=["bsPrefix","className","bg","text","border","body","children","as"],p=(0,c.Z)("h5"),_=(0,c.Z)("h6"),b=(0,u.Z)("card-body"),y=(0,u.Z)("card-title",{Component:p}),C=(0,u.Z)("card-subtitle",{Component:_}),N=(0,u.Z)("card-link",{Component:"a"}),S=(0,u.Z)("card-text",{Component:"p"}),k=(0,u.Z)("card-footer"),I=(0,u.Z)("card-img-overlay"),w=l.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,l=e.bg,u=e.text,c=e.border,h=e.body,x=e.children,m=e.as,f=void 0===m?"div":m,v=(0,i.Z)(e,Z),g=(0,a.vE)(t,"card");return(0,d.jsx)(f,(0,s.Z)((0,s.Z)({ref:n},v),{},{className:o()(r,g,l&&"bg-".concat(l),u&&"text-".concat(u),c&&"border-".concat(c)),children:h?(0,d.jsx)(b,{children:x}):x}))}));w.displayName="Card",w.defaultProps={body:!1};var T=Object.assign(w,{Img:m,Title:y,Subtitle:C,Body:b,Link:N,Text:S,Header:j,Footer:k,ImgOverlay:I})},96040:function(e,n,t){var s=t(72791).createContext(null);s.displayName="CardHeaderContext",n.Z=s},62591:function(e,n,t){var s=t(1413),i=t(45987),r=t(81694),o=t.n(r),l=t(72791),a=t(10162),u=t(80184),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=l.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,l=e.striped,d=e.bordered,h=e.borderless,x=e.hover,m=e.size,f=e.variant,v=e.responsive,g=(0,i.Z)(e,c),j=(0,a.vE)(t,"table"),Z=o()(r,j,f&&"".concat(j,"-").concat(f),m&&"".concat(j,"-").concat(m),l&&"".concat(j,"-striped"),d&&"".concat(j,"-bordered"),h&&"".concat(j,"-borderless"),x&&"".concat(j,"-hover")),p=(0,u.jsx)("table",(0,s.Z)((0,s.Z)({},g),{},{className:Z,ref:n}));if(v){var _="".concat(j,"-responsive");return"string"===typeof v&&(_="".concat(_,"-").concat(v)),(0,u.jsx)("div",{className:_,children:p})}return p}));n.Z=d},66543:function(e,n,t){t.d(n,{Z:function(){return x}});var s=t(1413),i=t(45987),r=t(81694),o=t.n(r),l=/-(.)/g;var a=t(72791),u=t(10162),c=t(80184),d=["className","bsPrefix","as"],h=function(e){return e[0].toUpperCase()+(n=e,n.replace(l,(function(e,n){return n.toUpperCase()}))).slice(1);var n};function x(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.displayName,r=void 0===t?h(e):t,l=n.Component,x=n.defaultProps,m=a.forwardRef((function(n,t){var r=n.className,a=n.bsPrefix,h=n.as,x=void 0===h?l||"div":h,m=(0,i.Z)(n,d),f=(0,u.vE)(a,e);return(0,c.jsx)(x,(0,s.Z)({ref:t,className:o()(r,f)},m))}));return m.defaultProps=x,m.displayName=r,m}},99944:function(){}}]);
//# sourceMappingURL=7961.1077b5d9.chunk.js.map