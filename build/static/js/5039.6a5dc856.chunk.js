(self.webpackChunkadminto_react=self.webpackChunkadminto_react||[]).push([[5039],{15468:function(e,t,n){"use strict";n(72791);var i=n(95316),r=n(43360),s=n(80184);t.Z=function(e){var t=e.show,n=e.onClose,o=e.onConfirm,c=e.title,a=void 0===c?"Confirm Deletion":c,u=e.message,l=void 0===u?"Are you sure you want to delete this item?":u;return(0,s.jsxs)(i.Z,{show:t,onHide:n,centered:!0,children:[(0,s.jsx)(i.Z.Header,{closeButton:!0,children:(0,s.jsx)(i.Z.Title,{children:a})}),(0,s.jsx)(i.Z.Body,{children:(0,s.jsx)("p",{children:l})}),(0,s.jsxs)(i.Z.Footer,{children:[(0,s.jsx)(r.Z,{variant:"secondary",onClick:n,children:"Cancel"}),(0,s.jsx)(r.Z,{variant:"danger",onClick:o,children:"Delete"})]})]})}},92414:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var i=n(4942),r=n(1413),s=n(29439),o=n(72791),c=n(57689),a=n(15671),u=n(43144),l=n(60136),d=n(29388),f=n(80184),m=function(e){(0,l.Z)(n,e);var t=(0,d.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return(0,u.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Error caught by Error Boundary:",e,t)}},{key:"render",value:function(){return this.state.hasError?(0,f.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(o.Component),h=m,p=n(6901),g=n(85906),v=n(51649),y=n(59135),x=(n(99944),n(91555)),j=n(15468),_=function(){var e,t=null===(e=(0,c.TH)().state)||void 0===e?void 0:e.business_id,n=(0,v.Sc)(),a=n.dispatch,u=n.appSelector,l=(0,o.useState)({}),d=(0,s.Z)(l,2),m=d[0],h=d[1],_=(0,o.useState)(!1),C=(0,s.Z)(_,2),Z=(C[0],C[1],(0,o.useState)(!1)),b=(0,s.Z)(Z,2),k=(b[0],b[1],(0,o.useState)(null)),N=(0,s.Z)(k,2),w=(N[0],N[1],(0,o.useState)("")),S=(0,s.Z)(w,2),T=(S[0],S[1]),E=u((function(e){return e.category.categories||[]})),P=(0,o.useState)(null),I=(0,s.Z)(P,2),R=I[0],O=I[1],A=(0,o.useState)(null),D=(0,s.Z)(A,2),H=D[0],$=D[1],z=(0,o.useState)(!1),B=(0,s.Z)(z,2),F=B[0],U=B[1],L=(0,o.useState)(null),W=(0,s.Z)(L,2),M=W[0],X=W[1],q=(0,o.useState)(!1),V=(0,s.Z)(q,2),Y=V[0],G=V[1],J=(0,c.s0)();(0,o.useEffect)((function(){t&&a((0,p.m$)(t))}),[a,t]),(0,o.useEffect)((function(){E.length>0&&!R&&O(E[0].category_id)}),[E,R]),(0,o.useEffect)((function(){if(E.length>0){var e={};E.forEach((function(t){e[t.category_id]=t.is_active,t.items.forEach((function(t){e[t.item_id]=t.is_active}))})),h(e)}}),[E]);var K=function(){M&&a((0,g.wz)(M)),setTimeout((function(){a((0,p.m$)(t))}),500),G(!1)},Q=function(){H&&a((0,p.uu)(H)),setTimeout((function(){a((0,p.m$)(t))}),500),U(!1)},ee=E.filter((function(e){return!R||e.category_id===R})).flatMap((function(e){return e.items}));return console.log("Filtered Items:",ee),(0,f.jsxs)("div",{className:"manage-menu-container",children:[(0,f.jsxs)("div",{className:"header",children:[(0,f.jsx)("h2",{children:"Item List"}),(0,f.jsx)("div",{className:"button-group",children:(0,f.jsx)("button",{className:"add-item-button",onClick:function(){return J("/apps/item-register",{state:{business_id:t,category_id:R}})},children:"+ Add Item"})})]}),(0,f.jsxs)("div",{className:"category-tabs",children:[E.map((function(e){return(0,f.jsxs)("div",{className:"category-tab ".concat(R===e.category_id?"active":""),onClick:function(){return t=e.category_id,console.log("Category Clicked:",t),void O(t);var t},children:[(0,f.jsx)("img",{src:e.logo_image,alt:e.category_name}),(0,f.jsx)("p",{children:e.category_name}),(0,f.jsx)("div",{children:(0,f.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,f.jsx)(x.Z,{checked:m[e.category_id]||!1,onChange:function(n){return s=e.category_id,o=n,h((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,i.Z)({},s,o))})),a((0,p.$5)(s,o)),void setTimeout((function(){T(""),a((0,p.m$)(t))}),100);var s,o}})})}),(0,f.jsxs)("div",{children:[(0,f.jsx)(y.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return J("/apps/category-update",{state:{business_id:t,category_id:R}})}}),(0,f.jsx)(y.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return t=e.category_id,$(t),void U(!0);var t}}),(0,f.jsx)(j.Z,{show:F,onClose:function(){return U(!1)},onConfirm:Q,title:"Delete this Category",message:"Are you sure you want to delete this Category? This action cannot be undone."})]})]},e.category_id)})),(0,f.jsx)("button",{className:"add-category-button",onClick:function(){return J("/apps/category-register",{state:{business_id:t}})},children:"+ Add Category"})]}),(0,f.jsx)("div",{className:"item-list",children:ee.length>0?ee.map((function(e){return(0,f.jsxs)("div",{className:"item-card",children:[(0,f.jsx)("img",{src:e.logo_image,alt:e.item_name,className:"item-image"}),(0,f.jsxs)("div",{className:"item-details",children:[(0,f.jsx)("h3",{children:e.item_name}),(0,f.jsxs)("p",{children:["Price: ",e.price]}),(0,f.jsx)("p",{children:"Total Amount: 0"})]}),(0,f.jsx)("div",{className:"item-actions",children:(0,f.jsx)("button",{className:"add-recipe-button",onClick:function(){return function(e,t){J("/apps/recipe",{state:{business_id:e,item_id:t}})}(t,e.item_id)},children:"+ Recipe"})}),(0,f.jsx)("div",{className:"item-actions",children:(0,f.jsx)(y.ffH,{size:20,style:{cursor:"pointer",marginRight:"10px"},onClick:function(){return n=e.item_id,i=e.category_id,J("/apps/edit-item",{state:{business_id:t,category_id:R,item_id:n}}),console.log("category_id: ",i),console.log("selectedCategoryId: ",R),void console.log("setSelectedCategoryId: ",O);var n,i}})}),(0,f.jsxs)("div",{className:"item-actions",children:[(0,f.jsx)(y.Xm5,{size:20,style:{cursor:"pointer",color:"red"},onClick:function(){return t=e.item_id,X(t),void G(!0);var t}}),(0,f.jsx)(j.Z,{show:Y,onClose:function(){return G(!1)},onConfirm:K,title:"Delete this Item",message:"Are you sure you want to delete this Item? This action cannot be undone."})]}),(0,f.jsx)(x.Z,{checked:m[e.item_id]||!1,onChange:function(n){return s=e.item_id,o=n,h((function(e){return(0,r.Z)((0,r.Z)({},e),{},(0,i.Z)({},s,o))})),a((0,g.us)(s,o)),void setTimeout((function(){T(""),a((0,p.m$)(t))}),100);var s,o}})]},e.item_id)})):(0,f.jsx)("p",{className:"no-items-message",children:"No items available"})})]})},C=function(){return(0,f.jsx)(h,{children:(0,f.jsx)(_,{})})}},91555:function(e,t,n){"use strict";n(72791),n(92414);var i=n(80184);t.Z=function(e){var t=e.checked,n=e.onChange,r=e.label;return(0,i.jsxs)("label",{className:"toggle-switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:function(e){return null===n||void 0===n?void 0:n(e.target.checked)}}),(0,i.jsx)("span",{className:"slider"}),r&&(0,i.jsx)("span",{className:"switch-label",children:r})]})}},73201:function(e,t,n){"use strict";var i=n(72791),r=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.Z=function(e,t){return(0,i.useMemo)((function(){return function(e,t){var n=r(e),i=r(t);return function(e){n&&n(e),i&&i(e)}}(e,t)}),[e,t])}},80888:function(e,t,n){"use strict";var i=n(79047);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return n.PropTypes=n,n}},52007:function(e,t,n){e.exports=n(80888)()},79047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},66543:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(1413),r=n(45987),s=n(81694),o=n.n(s),c=/-(.)/g;var a=n(72791),u=n(10162),l=n(80184),d=["className","bsPrefix","as"],f=function(e){return e[0].toUpperCase()+(t=e,t.replace(c,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,s=void 0===n?f(e):n,c=t.Component,m=t.defaultProps,h=a.forwardRef((function(t,n){var s=t.className,a=t.bsPrefix,f=t.as,m=void 0===f?c||"div":f,h=(0,r.Z)(t,d),p=(0,u.vE)(a,e);return(0,l.jsx)(m,(0,i.Z)({ref:n,className:o()(s,p)},h))}));return h.defaultProps=m,h.displayName=s,h}},27472:function(e,t,n){"use strict";var i=n(1413),r=n(72791),s=n(81694),o=n.n(s),c=n(80184);t.Z=function(e){return r.forwardRef((function(t,n){return(0,c.jsx)("div",(0,i.Z)((0,i.Z)({},t),{},{ref:n,className:o()(t.className,e)}))}))}},99944:function(){}}]);
//# sourceMappingURL=5039.6a5dc856.chunk.js.map